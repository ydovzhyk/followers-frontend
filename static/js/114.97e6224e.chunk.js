"use strict";(self.webpackChunkfollower_frontend=self.webpackChunkfollower_frontend||[]).push([[114],{1631:function(e,r,n){n.d(r,{Z:function(){return s}});var t={btnLight:"Button_btnLight__TSLTb",btnDark:"Button_btnDark__dmatG"},a=n(184),s=function(e){var r=e.text,n=void 0===r?"":r,s=e.type,o=void 0===s?"submit":s,c=e.btnClass,l=void 0===c?"btnDark":c,i=e.handleClick;return(0,a.jsx)("button",{className:t[l],onClick:i,type:o,children:n})}},5406:function(e,r,n){n.d(r,{Z:function(){return a}});var t=n(184),a=function(e){var r=e.children;return(0,t.jsx)("div",{className:"container",children:r})}},8114:function(e,r,n){n.r(r),n.d(r,{default:function(){return T}});var t=n(2791),a=n(3433),s=n(1413),o=n(5861),c=n(9439),l=n(4687),i=n.n(l),d=n(9434),u=n(7320),f=n(8526),w=n(1631),_=n(3174),h="Dropdown_customSelectTop__1xlwU",v="Dropdown_customSelectBottom__j-JoT",m=n(184),C=_.Z.Option,g=function(e){var r=e.value,n=e.handleChange;return(0,m.jsxs)(_.Z,{className:h,defaultValue:"show all",value:r,onChange:function(e){n(e)},children:[(0,m.jsx)(C,{className:v,value:"show all",children:"Show all"}),(0,m.jsx)(C,{className:v,value:"follow",children:"Follow"}),(0,m.jsx)(C,{className:v,value:"following",children:"Following"})]})},x=n(9806),j=n(1632);var p=n.p+"static/media/logo.e917114d7945c04c85a8946a331d28b6.svg";var b=n.p+"static/media/bottom.23dcbc3cc8ccc9682f24b4acffb5efb2.svg",N={userCardContainer:"UserCard_userCardContainer__UExsv",userDropdown:"UserCard_userDropdown__NGckr",userCard:"UserCard_userCard__tT-6-",cardLogo:"UserCard_cardLogo__Swq5H",cardBottom:"UserCard_cardBottom__+eHsd",cardLine:"UserCard_cardLine__fDnVJ",cardCircle:"UserCard_cardCircle__EBnsU",cardCircleBackground:"UserCard_cardCircleBackground__6UADX",cardAvatar:"UserCard_cardAvatar__dYw85",cardTitleTw:"UserCard_cardTitleTw__YIYj9",cardTitleFo:"UserCard_cardTitleFo__6EhBN",cardBtn:"UserCard_cardBtn__zOgR2",btn:"UserCard_btn__DC23k",scrollButton:"UserCard_scrollButton__9fMeN"},k=function(){var e=(0,d.I0)(),r=(0,t.useState)(1),n=(0,c.Z)(r,2),l=n[0],_=n[1],h=(0,t.useState)([]),v=(0,c.Z)(h,2),C=v[0],k=v[1],L=(0,t.useState)("show all"),U=(0,c.Z)(L,2),Z=U[0],T=U[1],B=(0,t.useState)(!1),S=(0,c.Z)(B,2),D=S[0],O=S[1],F=(0,d.v9)(u.E),E=(0,d.v9)(u.bg),I=JSON.parse(localStorage.getItem("followerIdNew")),y="";y=I||E;(0,t.useEffect)((function(){k([]),_(1)}),[Z]),(0,t.useEffect)((function(){var r=function(){var r=(0,o.Z)(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((0,f.$e)());case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),n=function(){var r=(0,o.Z)(i().mark((function r(){var n,t;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((0,f.Rf)({followerId:y,page:l,filter:Z}));case 2:n=r.sent,t=n.payload.users.map((function(e){var r=e.followersData.includes(y);return(0,s.Z)((0,s.Z)({},e),{},{following:r,followersData:[]})})),k((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(t))}));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();"new"===y&&r(),l&&"new"!==y&&n()}),[l,e,y,Z]),(0,t.useEffect)((function(){var e=function(){var e=window.pageYOffset;O(e>500)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]);var A=(0,t.useCallback)((function(r,n){var t=C.map((function(t){if(t._id===r){var a=n?t.followers-1:t.followers+1;return e((0,f.Nq)({followerId:y,userId:r,following:n})),(0,s.Z)((0,s.Z)({},t),{},{following:!n,followers:a})}return t}));k(t)}),[e,C,y]);return(0,m.jsxs)("section",{className:N.userForm,children:[(0,m.jsx)("div",{className:N.userDropdown,children:(0,m.jsx)(g,{value:Z,handleChange:T})}),0!==Object.keys(C).length&&(0,m.jsxs)("div",{className:N.userCardContainer,children:[C.map((function(e){var r=e._id,n=e.user,t=e.tweets,a=e.followers,s=e.avatar,o=e.following;return(0,m.jsxs)("div",{className:N.userCard,children:[(0,m.jsx)("img",{src:b,alt:"web-site logo",width:"308",height:"168",className:N.cardBottom}),(0,m.jsx)("div",{className:N.cardLine}),(0,m.jsx)("div",{className:N.cardCircle,children:(0,m.jsx)("div",{className:N.cardCircleBackground,children:(0,m.jsx)("img",{src:s,alt:n,width:"62",height:"62",className:N.cardAvatar})})}),(0,m.jsxs)("p",{className:N.cardTitleTw,children:[t.toLocaleString("en-US")," Tweets"]}),(0,m.jsxs)("p",{className:N.cardTitleFo,children:[a.toLocaleString("en-US")," Followers"]}),(0,m.jsx)("div",{className:N.cardBtn,children:(0,m.jsx)(w.Z,{text:o?"FOLLOWING":"FOLLOW",btnClass:o?"btnDark":"btnLight",handleClick:function(){return A(r,o)}})}),(0,m.jsx)("img",{src:p,alt:"web-site logo",width:"76",className:N.cardLogo})]},r)})),";"]}),0!==Object.keys(C).length&&F>l&&(0,m.jsx)("div",{className:N.btn,children:(0,m.jsx)(w.Z,{text:"Load more",btnClass:"btnLight",handleClick:function(){_((function(e){return e+1}))}})}),D&&(0,m.jsx)("button",{className:N.scrollButton,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:(0,m.jsx)(x.G,{icon:j.mTx})})]})},L="Tweets_tweets__m4O8S",U=n(5406),Z=function(){return(0,m.jsx)("section",{className:L,children:(0,m.jsx)(U.Z,{children:(0,m.jsx)(k,{})})})},T=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(Z,{})})}}}]);
//# sourceMappingURL=114.97e6224e.chunk.js.map