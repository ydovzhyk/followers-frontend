"use strict";(self.webpackChunkfollower_frontend=self.webpackChunkfollower_frontend||[]).push([[165],{1631:function(e,r,n){n.d(r,{Z:function(){return s}});var a={btnLight:"Button_btnLight__TSLTb",btnDark:"Button_btnDark__dmatG"},t=n(184),s=function(e){var r=e.text,n=void 0===r?"":r,s=e.type,o=void 0===s?"submit":s,c=e.btnClass,l=void 0===c?"btnDark":c,i=e.handleClick;return(0,t.jsx)("button",{className:a[l],onClick:i,type:o,children:n})}},5406:function(e,r,n){n.d(r,{Z:function(){return t}});var a=n(184),t=function(e){var r=e.children;return(0,a.jsx)("div",{className:"container",children:r})}},5165:function(e,r,n){n.r(r),n.d(r,{default:function(){return Z}});var a=n(2791),t=n(3433),s=n(1413),o=n(5861),c=n(9439),l=n(4687),i=n.n(l),d=n(9434),u=n(7320),f=n(8526),_=n(1631),w=n(3174),h="Dropdown_customSelectTop__1xlwU",v="Dropdown_customSelectBottom__j-JoT",C=n(184),m=w.Z.Option,x=function(e){var r=e.value,n=e.handleChange;return(0,C.jsxs)(w.Z,{className:h,defaultValue:"show all",value:r,onChange:function(e){n(e)},children:[(0,C.jsx)(m,{className:v,value:"show all",children:"Show all"}),(0,C.jsx)(m,{className:v,value:"follow",children:"Follow"}),(0,C.jsx)(m,{className:v,value:"following",children:"Following"})]})},g=n(9806),j=n(1632);var p=n.p+"static/media/logo.e917114d7945c04c85a8946a331d28b6.svg",N={userCardContainer:"UserCard_userCardContainer__UExsv",userDropdown:"UserCard_userDropdown__NGckr",userCard:"UserCard_userCard__tT-6-",userCardBackground:"UserCard_userCardBackground__2MyBG",cardLogo:"UserCard_cardLogo__Swq5H",cardLine:"UserCard_cardLine__fDnVJ",cardCircle:"UserCard_cardCircle__EBnsU",cardCircleBackground:"UserCard_cardCircleBackground__6UADX",cardAvatar:"UserCard_cardAvatar__dYw85",cardTitleTw:"UserCard_cardTitleTw__YIYj9",cardTitleFo:"UserCard_cardTitleFo__6EhBN",cardBtn:"UserCard_cardBtn__zOgR2",btn:"UserCard_btn__DC23k",scrollButton:"UserCard_scrollButton__9fMeN"},b=function(){var e=(0,d.I0)(),r=(0,a.useState)(1),n=(0,c.Z)(r,2),l=n[0],w=n[1],h=(0,a.useState)([]),v=(0,c.Z)(h,2),m=v[0],b=v[1],k=(0,a.useState)("show all"),L=(0,c.Z)(k,2),U=L[0],Z=L[1],B=(0,a.useState)(!1),T=(0,c.Z)(B,2),S=T[0],D=T[1],O=(0,d.v9)(u.E),F=(0,d.v9)(u.bg),E=JSON.parse(localStorage.getItem("followerIdNew")),y="";y=E||F;(0,a.useEffect)((function(){b([]),w(1)}),[U]),(0,a.useEffect)((function(){var r=function(){var r=(0,o.Z)(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((0,f.$e)());case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),n=function(){var r=(0,o.Z)(i().mark((function r(){var n,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((0,f.Rf)({followerId:y,page:l,filter:U}));case 2:n=r.sent,a=n.payload.users.map((function(e){var r=e.followersData.includes(y);return(0,s.Z)((0,s.Z)({},e),{},{following:r,followersData:[]})})),b((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(a))}));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();"new"===y&&r(),l&&"new"!==y&&n()}),[l,e,y,U]),(0,a.useEffect)((function(){var e=function(){var e=window.pageYOffset;D(e>500)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]);var I=(0,a.useCallback)((function(r,n){var a=m.map((function(a){if(a._id===r){var t=n?a.followers-1:a.followers+1;return e((0,f.Nq)({followerId:y,userId:r,following:n})),(0,s.Z)((0,s.Z)({},a),{},{following:!n,followers:t})}return a}));b(a)}),[e,m,y]);return(0,C.jsxs)("section",{className:N.userForm,children:[(0,C.jsx)("div",{className:N.userDropdown,children:(0,C.jsx)(x,{value:U,handleChange:Z})}),0!==Object.keys(m).length&&(0,C.jsx)("div",{className:N.userCardContainer,children:m.map((function(e){var r=e._id,n=e.user,a=e.tweets,t=e.followers,s=e.avatar,o=e.following;return(0,C.jsx)("div",{className:N.userCard,children:(0,C.jsxs)("div",{className:N.userCardBackground,children:[(0,C.jsx)("div",{className:N.cardLine}),(0,C.jsx)("div",{className:N.cardCircle,children:(0,C.jsx)("div",{className:N.cardCircleBackground,children:(0,C.jsx)("img",{src:s,alt:n,width:"57",height:"57",className:N.cardAvatar})})}),(0,C.jsxs)("p",{className:N.cardTitleTw,children:[a.toLocaleString("en-US")," Tweets"]}),(0,C.jsxs)("p",{className:N.cardTitleFo,children:[t.toLocaleString("en-US")," Followers"]}),(0,C.jsx)("div",{className:N.cardBtn,children:(0,C.jsx)(_.Z,{text:o?"FOLLOWING":"FOLLOW",btnClass:o?"btnDark":"btnLight",handleClick:function(){return I(r,o)}})}),(0,C.jsx)("img",{src:p,alt:"web-site logo",width:"76",className:N.cardLogo})]})},r)}))}),0!==Object.keys(m).length&&O>l&&(0,C.jsx)("div",{className:N.btn,children:(0,C.jsx)(_.Z,{text:"Load more",btnClass:"btnLight",handleClick:function(){w((function(e){return e+1}))}})}),S&&(0,C.jsx)("button",{className:N.scrollButton,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:(0,C.jsx)(g.G,{icon:j.mTx})})]})},k="Tweets_tweets__m4O8S",L=n(5406),U=function(){return(0,C.jsx)("section",{className:k,children:(0,C.jsx)(L.Z,{children:(0,C.jsx)(b,{})})})},Z=function(){return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(U,{})})}}}]);
//# sourceMappingURL=165.ccf9c5a2.chunk.js.map